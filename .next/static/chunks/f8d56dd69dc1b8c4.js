(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,38744,e=>{"use strict";var t=e.i(61238);let r="/admin/prayer-times";async function a(e){let a=new URLSearchParams;e?.startDate&&a.set("startDate",e.startDate),e?.endDate&&a.set("endDate",e.endDate),e?.page!==void 0&&a.set("page",String(e.page)),e?.size!==void 0&&a.set("size",String(e.size));let n=a.toString(),s=n?`${r}?${n}`:r;return(await (0,t.get)(s)).data}async function n(e){return(await (0,t.get)(`${r}/${e}`)).data}async function s(e){return(await (0,t.post)(r,e)).data}async function l(e){return(await (0,t.post)(`${r}/bulk`,e)).data}async function i(e,a){return(await (0,t.put)(`${r}/${e}`,a)).data}async function o(e){await (0,t.del)(`${r}/${e}`)}e.s(["bulkCreatePrayerTimes",()=>l,"createPrayerTime",()=>s,"deletePrayerTime",()=>o,"getPrayerTimeById",()=>n,"getPrayerTimes",()=>a,"updatePrayerTime",()=>i])},49739,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(38744);let n=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["M","T","W","T","F","S","S"];function l(e,t,r){return`${e}-${String(t+1).padStart(2,"0")}-${String(r).padStart(2,"0")}`}function i(e){let[t,r,a]=e.split("-").map(Number);return{year:t,month:r-1,day:a}}function o({fromDate:e,toDate:a,onApply:o,onCancel:d}){let c,[x,u]=(0,r.useState)("from"),h=e?i(e):{year:new Date().getFullYear(),month:new Date().getMonth(),day:new Date().getDate()};a&&i(a);let[m,b]=(0,r.useState)(e||l(h.year,h.month,h.day)),[p,f]=(0,r.useState)(a||m),[v,g]=(0,r.useState)(h.year),[j,y]=(0,r.useState)(h.month),N=new Date(v,j+1,0).getDate(),w=0===(c=new Date(v,j,1).getDay())?6:c-1,k=Array.from({length:11},(e,t)=>v-5+t),S=(0,r.useCallback)(e=>{let t=l(v,j,e);"from"===x?(b(t),t>p&&f(t),u("to")):t<m?b(t):f(t)},[x,m,p,v,j]),$=[];for(let e=0;e<w;e++)$.push(null);for(let e=1;e<=N;e++)$.push(e);for(;$.length%7!=0;)$.push(null);return(0,t.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:d}),(0,t.jsxs)("div",{className:"relative bg-white rounded-[20px] w-full max-w-[430px] shadow-2xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 pt-6 pb-3",children:[(0,t.jsx)("h3",{className:"font-urbanist font-bold text-[20px] text-[var(--grey-800)]",children:"Date Range"}),(0,t.jsx)("button",{onClick:d,className:"p-1 hover:bg-[var(--neutral-100)] rounded-full transition-colors cursor-pointer",children:(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,t.jsx)("path",{d:"M15 5L5 15M5 5l10 10",stroke:"var(--grey-800)",strokeWidth:"2",strokeLinecap:"round"})})})]}),(0,t.jsxs)("div",{className:"px-6 pb-6",children:[(0,t.jsxs)("div",{className:"flex bg-[var(--brand-05)] rounded-full p-0.5 mb-5",children:[(0,t.jsx)("button",{onClick:()=>u("from"),className:`flex-1 py-2 rounded-full font-urbanist font-semibold text-[14px] transition-all cursor-pointer
                                ${"from"===x?"bg-[var(--brand)] text-white shadow-sm":"text-[var(--grey-800)]"}`,children:"From"}),(0,t.jsx)("button",{onClick:()=>u("to"),className:`flex-1 py-2 rounded-full font-urbanist font-semibold text-[14px] transition-all cursor-pointer
                                ${"to"===x?"bg-[var(--brand)] text-white shadow-sm":"text-[var(--grey-800)]"}`,children:"To"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("select",{value:v,onChange:e=>g(Number(e.target.value)),className:"font-urbanist font-medium text-[14px] text-[var(--grey-800)] bg-transparent border-none outline-none cursor-pointer appearance-auto",children:k.map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("select",{value:j,onChange:e=>y(Number(e.target.value)),className:"font-urbanist font-medium text-[14px] text-[var(--grey-800)] bg-transparent border-none outline-none cursor-pointer appearance-auto",children:n.map((e,r)=>(0,t.jsx)("option",{value:r,children:e},e))})]}),(0,t.jsx)("div",{className:"grid grid-cols-7 mb-2",children:s.map((e,r)=>(0,t.jsx)("div",{className:"text-center font-urbanist font-medium text-[13px] text-[var(--neutral-500)] py-1",children:e},r))}),(0,t.jsx)("div",{className:"grid grid-cols-7",children:$.map((e,r)=>{if(null===e)return(0,t.jsx)("div",{},r);let a=l(v,j,e),n=a===m,s=a===p,i=m&&p&&a>m&&a<p;return(0,t.jsx)("div",{className:`relative flex items-center justify-center h-[42px]
                                        ${i?"bg-[var(--brand-05)]":""}
                                        ${n&&m!==p?"rounded-l-full bg-[var(--brand-05)]":""}
                                        ${s&&m!==p?"rounded-r-full bg-[var(--brand-05)]":""}
                                    `,children:(0,t.jsx)("button",{onClick:()=>S(e),className:`w-[36px] h-[36px] rounded-full flex items-center justify-center
                                            font-urbanist font-medium text-[14px] transition-all cursor-pointer
                                            ${n||s?"bg-[var(--brand)] text-white":i?"text-[var(--brand)] hover:bg-[var(--brand-10)]":"text-[var(--grey-800)] hover:bg-[var(--neutral-100)]"}`,children:e})},r)})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 px-6 py-4 border-t border-[var(--border-01)]",children:[(0,t.jsx)("button",{onClick:d,className:"flex-1 py-3 border border-[var(--border-01)] text-[var(--grey-800)] rounded-full font-urbanist font-semibold text-[14px] hover:bg-[var(--neutral-100)] transition-colors cursor-pointer",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>o(m,p),className:"flex-1 py-3 bg-[var(--brand)] text-white rounded-full font-urbanist font-semibold text-[14px] hover:opacity-90 transition-opacity cursor-pointer",children:"Apply"})]})]})]})}Array.from({length:12},(e,t)=>(0===t?12:t).toString().padStart(2,"0")).sort((e,t)=>parseInt(e)-parseInt(t));let d=["01","02","03","04","05","06","07","08","09","10","11","12"],c=Array.from({length:60},(e,t)=>t.toString().padStart(2,"0")),x=["AM","PM"];function u({value:e,onChange:a,placeholder:n="--:--",disabled:s,className:l=""}){let[i,o]=(0,r.useState)(!1),u=(0,r.useRef)(null),{h,m,p:b}=(e=>{if(!e)return{h:"12",m:"00",p:"AM"};let[t,r]=e.split(":"),a=parseInt(t,10),n=a>=12?"PM":"AM";return a>12&&(a-=12),0===a&&(a=12),{h:a.toString().padStart(2,"0"),m:r,p:n}})(e),p=e?`${h}:${m} ${b}`:"";(0,r.useEffect)(()=>{let e=e=>{u.current&&!u.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let f=(e,t)=>{let r=h,n=m,s=b;"h"===e&&(r=t),"m"===e&&(n=t),"p"===e&&(s=t);let l=parseInt(r,10);"PM"===s&&l<12&&(l+=12),"PM"===s&&12===l&&(l=12),"AM"===s&&12===l&&(l=0),a(`${l.toString().padStart(2,"0")}:${n}`)};return(0,t.jsxs)("div",{className:`relative w-full ${l}`,ref:u,children:[(0,t.jsxs)("button",{type:"button",onClick:()=>!s&&o(!i),disabled:s,className:`w-full flex items-center justify-between px-3 py-2.5 border rounded-[10px] font-urbanist text-[14px] transition-colors bg-white
                    ${s?"bg-[var(--neutral-100)] text-[var(--neutral-300)] cursor-not-allowed border-[var(--border-01)]":"text-[var(--grey-800)] hover:border-[var(--brand)] cursor-pointer"}
                    ${i?"border-[var(--brand)] ring-1 ring-[var(--brand)]":"border-[var(--border-01)]"}
                `,children:[(0,t.jsx)("span",{children:p||n}),(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"text-[var(--neutral-500)]",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,t.jsx)("path",{d:"M12 7v5l3 3"})]})]}),i&&(0,t.jsx)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-[var(--border-01)] rounded-[16px] shadow-xl z-50 flex overflow-hidden w-full min-w-[240px] h-[220px]",children:(0,t.jsxs)("div",{className:"flex w-full h-full",children:[(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden border-r border-[var(--border-01)]",children:[(0,t.jsx)("div",{className:"sticky top-0 bg-[var(--brand-05)] text-[var(--brand)] text-[11px] font-bold text-center py-1 uppercase tracking-wider z-10",children:"Hour"}),d.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>f("h",e),className:`w-full py-2.5 text-center font-urbanist font-medium text-[14px] hover:bg-[var(--brand-05)] transition-colors cursor-pointer block
                                        ${h===e?"bg-[var(--brand)] text-white hover:bg-[var(--brand)]":"text-[var(--grey-800)]"}
                                    `,children:e},e))]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden border-r border-[var(--border-01)]",children:[(0,t.jsx)("div",{className:"sticky top-0 bg-[var(--brand-05)] text-[var(--brand)] text-[11px] font-bold text-center py-1 uppercase tracking-wider z-10",children:"Min"}),c.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>f("m",e),className:`w-full py-2.5 text-center font-urbanist font-medium text-[14px] hover:bg-[var(--brand-05)] transition-colors cursor-pointer block
                                        ${m===e?"bg-[var(--brand)] text-white hover:bg-[var(--brand)]":"text-[var(--grey-800)]"}
                                    `,children:e},e))]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden",children:[(0,t.jsx)("div",{className:"sticky top-0 bg-[var(--brand-05)] text-[var(--brand)] text-[11px] font-bold text-center py-1 uppercase tracking-wider z-10",children:"Period"}),x.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>f("p",e),className:`w-full py-2.5 text-center font-urbanist font-medium text-[14px] hover:bg-[var(--brand-05)] transition-colors cursor-pointer block
                                        ${b===e?"bg-[var(--brand)] text-white hover:bg-[var(--brand)]":"text-[var(--grey-800)]"}
                                    `,children:e},e))]})]})})]})}let h={fajr:{athan:"",jamah:""},sunrise:{athan:""},zuhr:{athan:"",jamah:""},asr:{athan:"",jamah:""},maghrib:{athan:"",jamah:""},isha:{athan:"",jamah:""}},m={begins:"",jamah:""},b=[{key:"fajr",label:"FAJR",hasJamah:!0},{key:"sunrise",label:"SUNRISE",hasJamah:!1},{key:"zuhr",label:"ZUHR",hasJamah:!0},{key:"asr",label:"ASR",hasJamah:!0},{key:"maghrib",label:"MAGHRIB",hasJamah:!0},{key:"isha",label:"ISHA",hasJamah:!0}],p=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function f(e){if(!e)return"";let[t,r,a]=e.split("-").map(Number);return`${a} ${p[r-1]} ${t}`}function v({prayerTime:n,onClose:s,onSuccess:l}){let[i,d]=(0,r.useState)("daily"),[c,x]=(0,r.useState)(n?.date||""),[p,v]=(0,r.useState)(n?.date||""),[g,j]=(0,r.useState)(n?.prayers||{...h}),[y,N]=(0,r.useState)(n?.jumuahTimes||[{...m}]),[w,k]=(0,r.useState)(!1),[S,$]=(0,r.useState)(null),[D,M]=(0,r.useState)(!1),[C,A]=(0,r.useState)(!1),T=null!==n,[F,J]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s]);let P=(e,t,r)=>{j(a=>({...a,[e]:{...a[e],[t]:r}}))},L=(e,t,r)=>{N(a=>{let n=[...a];return n[e]={...n[e],[t]:r},n})},z=async(t,r)=>{x(t),v(r),M(!1),A(!0),$(null);try{let{getPrayerTimes:a}=await e.A(20697),n=await a({startDate:t,endDate:r,size:1,page:0});if(n.content&&n.content.length>0){let e=n.content[0];j(e.prayers),N(e.jumuahTimes||[{...m}]),J(!0)}else j({...h}),N([{...m}]),J(!1)}catch(e){console.error("Failed to check existing data",e),J(!1)}finally{A(!1)}},B=async()=>{if(!c)return void $("Please select a date range");k(!0),$(null);try{let e=y.filter(e=>e.jamah||e.begins),t=function(e,t){let r=[],a=new Date(e+"T00:00:00"),n=new Date(t+"T00:00:00"),s=new Date(a);for(;s<=n;){let e=s.getFullYear(),t=String(s.getMonth()+1).padStart(2,"0"),a=String(s.getDate()).padStart(2,"0");r.push(`${e}-${t}-${a}`),s.setDate(s.getDate()+1)}return r}(c,p);await (0,a.bulkCreatePrayerTimes)({prayerTimes:t.map(t=>({date:t,hijriDate:(e=>{try{let t=new Date(e),r=new Intl.DateTimeFormat("en-u-ca-islamic-umalqura",{day:"numeric",month:"long",year:"numeric"}).formatToParts(t),a=r.find(e=>"day"===e.type)?.value,n=r.find(e=>"month"===e.type)?.value,s=r.find(e=>"year"===e.type)?.value;return`${a} ${n} ${s}`}catch(e){return""}})(t),prayers:g,jumuahTimes:e.length>0?e:void 0}))}),l()}catch(e){$(e instanceof Error?e.message:"Failed to save prayer time")}finally{k(!1)}},W=c?c===p?f(c):`${f(c)} - ${f(p)}`:"Select date range";return(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:s}),(0,t.jsxs)("div",{className:"relative bg-white rounded-[24px] w-full max-w-[1020px] max-h-[90vh] overflow-y-auto shadow-2xl border border-[var(--border-01)]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-8 pt-7 pb-4",children:[(0,t.jsx)("h2",{className:"font-urbanist font-bold text-[22px] text-[var(--grey-800)]",children:T||F?"Update Prayer Time":"Add Prayer Time"}),(0,t.jsx)("button",{onClick:s,className:"w-[36px] h-[36px] flex items-center justify-center border border-[var(--border-01)] rounded-[8px] hover:bg-[var(--neutral-100)] transition-colors cursor-pointer",children:(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,t.jsx)("path",{d:"M12 4L4 12M4 4l8 8",stroke:"var(--grey-800)",strokeWidth:"1.5",strokeLinecap:"round"})})})]}),(0,t.jsxs)("div",{className:"px-8 pb-2",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block font-urbanist font-medium text-[14px] text-[var(--grey-800)] mb-2",children:"Date Range"}),(0,t.jsxs)("button",{onClick:()=>!T&&M(!0),className:`flex items-center justify-between w-full max-w-[580px] px-5 py-3 border border-[var(--border-01)] rounded-full
                                font-urbanist text-[15px] text-[var(--grey-800)] transition-colors
                                ${T?"bg-[var(--neutral-100)] cursor-default":"bg-white hover:border-[var(--brand)] cursor-pointer"}`,children:[(0,t.jsx)("span",{children:W}),(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:"shrink-0 ml-2",children:[(0,t.jsx)("rect",{x:"2",y:"3",width:"16",height:"14",rx:"2",stroke:"var(--neutral-500)",strokeWidth:"1.3"}),(0,t.jsx)("path",{d:"M2 7.5h16",stroke:"var(--neutral-500)",strokeWidth:"1.3"}),(0,t.jsx)("path",{d:"M6 1.5v3M14 1.5v3",stroke:"var(--neutral-500)",strokeWidth:"1.3",strokeLinecap:"round"})]})]})]}),(0,t.jsxs)("div",{className:"bg-[var(--brand-05)] rounded-t-[8px] flex mb-0",children:[(0,t.jsxs)("button",{onClick:()=>d("daily"),className:`flex-1 py-3.5 font-urbanist font-semibold text-[15px] text-center transition-colors relative cursor-pointer
                                ${"daily"===i?"text-[var(--brand)]":"text-[var(--neutral-500)] hover:text-[var(--grey-800)]"}`,children:["Daily Prayer","daily"===i&&(0,t.jsx)("span",{className:"absolute bottom-0 left-0 right-0 h-[3px] bg-[var(--brand)]"})]}),(0,t.jsxs)("button",{onClick:()=>d("jumuah"),className:`flex-1 py-3.5 font-urbanist font-semibold text-[15px] text-center transition-colors relative cursor-pointer
                                ${"jumuah"===i?"text-[var(--brand)]":"text-[var(--neutral-500)] hover:text-[var(--grey-800)]"}`,children:["Jumuah","jumuah"===i&&(0,t.jsx)("span",{className:"absolute bottom-0 left-0 right-0 h-[3px] bg-[var(--brand)]"})]})]}),(0,t.jsx)("div",{className:"h-[1px] bg-[var(--brand)] mb-6"}),"daily"===i&&(0,t.jsx)("div",{className:"grid grid-cols-6 gap-5 mb-4",children:b.map(({key:e,label:r,hasJamah:a})=>(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("p",{className:"font-urbanist font-bold text-[15px] text-[var(--grey-800)] uppercase mb-3",children:r}),(0,t.jsx)("label",{className:"font-urbanist font-medium text-[13px] text-[var(--brand)] mb-1.5",children:"Begins"}),(0,t.jsx)(u,{value:g[e]?.athan||"",onChange:t=>P(e,"athan",t),placeholder:"00:00"}),(0,t.jsx)("label",{className:"font-urbanist font-medium text-[13px] text-[var(--brand)] mt-4 mb-1.5",children:"Jama'h"}),a?(0,t.jsx)(u,{value:g[e]?.jamah||"",onChange:t=>P(e,"jamah",t),placeholder:"00:00"}):(0,t.jsx)(u,{disabled:!0,onChange:()=>{},placeholder:"—"})]},e))}),"jumuah"===i&&(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-8",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("div",{className:"flex items-center gap-2 mb-3",children:(0,t.jsx)("p",{className:"font-urbanist font-bold text-[15px] text-[var(--grey-800)] uppercase",children:y.length>1?"JUMU'AH 1":"JUMUAH"})}),(0,t.jsx)("label",{className:"font-urbanist font-medium text-[13px] text-[var(--brand)] mb-1.5",children:"Begins"}),(0,t.jsx)("div",{className:"w-[150px]",children:(0,t.jsx)(u,{value:y[0]?.begins||"",onChange:e=>L(0,"begins",e),placeholder:"00:00"})}),(0,t.jsx)("label",{className:"font-urbanist font-medium text-[13px] text-[var(--brand)] mt-4 mb-1.5",children:"Jama'h"}),(0,t.jsx)("div",{className:"w-[150px]",children:(0,t.jsx)(u,{value:y[0]?.jamah||"",onChange:e=>L(0,"jamah",e),placeholder:"00:00"})})]}),y.length<2?(0,t.jsxs)("button",{onClick:()=>{y.length<2&&N(e=>[...e,{...m}])},className:"flex flex-col items-center justify-center gap-2 w-[160px] h-[160px] mt-5 border-2 border-dashed border-[var(--brand)] rounded-[12px] text-[var(--brand)] hover:bg-[var(--brand-05)] transition-colors cursor-pointer",children:[(0,t.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,t.jsx)("path",{d:"M12 5v14M5 12h14",stroke:"var(--brand)",strokeWidth:"2",strokeLinecap:"round"})}),(0,t.jsxs)("span",{className:"font-urbanist font-medium text-[14px]",children:["2",(0,t.jsx)("sup",{children:"nd"})," Jumuah"]})]}):(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)("p",{className:"font-urbanist font-bold text-[15px] text-[var(--grey-800)] uppercase",children:"JUMU'AH 2"}),(0,t.jsx)("button",{onClick:()=>{y.length>1&&N(e=>[e[0]])},className:"p-1 hover:bg-red-50 rounded-[6px] transition-colors cursor-pointer",title:"Remove 2nd Jumuah",children:(0,t.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 20 20",fill:"none",children:(0,t.jsx)("path",{d:"M3 5h14M6 5V3.5A1.5 1.5 0 0 1 7.5 2h5A1.5 1.5 0 0 1 14 3.5V5m2 0v11.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 4 16.5V5h12Z",stroke:"#EF4444",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),(0,t.jsx)("label",{className:"font-urbanist font-medium text-[13px] text-[var(--brand)] mb-1.5",children:"Begins"}),(0,t.jsx)("div",{className:"w-[150px]",children:(0,t.jsx)(u,{value:y[1]?.begins||"",onChange:e=>L(1,"begins",e),placeholder:"00:00"})}),(0,t.jsx)("label",{className:"font-urbanist font-medium text-[13px] text-[var(--brand)] mt-4 mb-1.5",children:"Jama'h"}),(0,t.jsx)("div",{className:"w-[150px]",children:(0,t.jsx)(u,{value:y[1]?.jamah||"",onChange:e=>L(1,"jamah",e),placeholder:"00:00"})})]})]})}),S&&(0,t.jsx)("p",{className:"mt-2 font-urbanist text-[13px] text-[var(--error)]",children:S}),(0,t.jsx)("p",{className:"mt-4 mb-2 font-urbanist text-[12px] italic text-[var(--neutral-500)]",children:"*Whatever the changes saved, it'll automatically reflect in the Mobile App.*"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-3 px-8 py-5",children:[(0,t.jsx)("button",{onClick:s,disabled:w,className:"px-8 py-2.5 border border-[var(--border-01)] text-[var(--grey-800)] rounded-[8px] font-urbanist font-semibold text-[14px] hover:bg-[var(--neutral-100)] transition-colors disabled:opacity-50 cursor-pointer",children:"Cancel"}),(0,t.jsx)("button",{onClick:B,disabled:w,className:"px-8 py-2.5 bg-[var(--brand)] text-white rounded-[8px] font-urbanist font-semibold text-[14px] hover:opacity-90 transition-opacity disabled:opacity-50 cursor-pointer",children:w?"Saving...":"Save"})]})]}),D&&(0,t.jsx)(o,{fromDate:c,toDate:p,onApply:z,onCancel:()=>M(!1)})]})}function g({className:e="",...r}){return(0,t.jsx)("div",{className:`animate-pulse bg-[var(--neutral-100)] rounded-[8px] ${e}`,...r})}let j=["fajr","sunrise","zuhr","asr","maghrib","isha"],y={fajr:"Fajr",sunrise:"Sunrise",zuhr:"Zuhr",asr:"Asr",maghrib:"Maghrib",isha:"Isha"},N=["January","February","March","April","May","June","July","August","September","October","November","December"],w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],k=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function S(e){if(!e)return"—";let[t,r]=e.split(":"),a=parseInt(t,10),n=a>=12?"PM":"AM";return a>12&&(a-=12),0===a&&(a=12),`${a}:${r} ${n}`}function $(e){if(!e)return null;let[t,r]=e.split(":"),a=parseInt(t,10),n=a>=12?"PM":"AM";return a>12&&(a-=12),0===a&&(a=12),{time:`${a}:${r}`,ampm:n}}function D({className:e=""}){return(0,t.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:(0,t.jsx)("path",{d:"M9 6L15 12L9 18",stroke:"var(--brand)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function M(){let[e,n]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0),[i,o]=(0,r.useState)(null),[d,c]=(0,r.useState)(!1),[x,u]=(0,r.useState)(null),[h,m]=(0,r.useState)(new Date().getMonth()),[b,p]=(0,r.useState)(new Date().getFullYear()),[f,M]=(0,r.useState)(new Date),C=`${f.getFullYear()}-${String(f.getMonth()+1).padStart(2,"0")}-${String(f.getDate()).padStart(2,"0")}`,A=e.find(e=>e.date===C),T=(0,r.useCallback)(async()=>{l(!0),o(null);try{let e=`${b}-${String(h+1).padStart(2,"0")}-01`,t=new Date(b,h+1,0).getDate(),r=`${b}-${String(h+1).padStart(2,"0")}-${String(t).padStart(2,"0")}`,s=await (0,a.getPrayerTimes)({startDate:e,endDate:r,size:31});n(s.content)}catch(e){o(e instanceof Error?e.message:"Failed to load prayer times")}finally{l(!1)}},[h,b]);(0,r.useEffect)(()=>{T()},[T]);let F=()=>{u(null),c(!0)},J=()=>{c(!1),u(null)},P=(()=>{if(!A)return null;let e=new Date;if(f.toDateString()!==e.toDateString())return null;let t=60*e.getHours()+e.getMinutes(),r=null;for(let e of["fajr","sunrise","zuhr","asr","maghrib","isha"]){let a=A.prayers[e]?.jamah||A.prayers[e]?.athan;if(a){let[n,s]=a.split(":").map(Number);t>=60*n+s&&(r=e)}}return r})(),L=e.length>0?e[0]?.hijriDate:null,z=e.length>1?e[e.length-1]?.hijriDate:null,B=L&&z&&L!==z?`${L} - ${z}`:L||"";return(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h1",{className:"font-urbanist font-bold text-[28px] text-[#1f1f1f] leading-normal",children:"Prayer Management"}),(0,t.jsxs)("button",{onClick:F,className:"flex items-center gap-2.5 h-[44px] px-6 bg-[var(--brand)] text-white rounded-[12px] font-inter font-medium text-[16px] hover:opacity-90 transition-opacity cursor-pointer",children:[(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[(0,t.jsx)("rect",{x:"2",y:"3",width:"16",height:"14",rx:"2",stroke:"currentColor",strokeWidth:"1.5"}),(0,t.jsx)("path",{d:"M2 7.5h16",stroke:"currentColor",strokeWidth:"1.5"}),(0,t.jsx)("path",{d:"M6 1.5v3M14 1.5v3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),(0,t.jsx)("path",{d:"M10 10.5v4M8 12.5h4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),"Add/Update Prayer Time"]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-6 items-center w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between w-full bg-[var(--brand-05)] px-4 py-1.5",children:[(0,t.jsx)("button",{onClick:()=>{let e=new Date(f);e.setDate(f.getDate()-1),M(e),(e.getMonth()!==h||e.getFullYear()!==b)&&(m(e.getMonth()),p(e.getFullYear()))},className:"border border-[var(--brand-50)] rounded-[8px] p-1.5 flex items-center justify-center hover:bg-white/50 transition-colors cursor-pointer",children:(0,t.jsx)(D,{className:"rotate-180"})}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-0.5",children:[(0,t.jsx)("p",{className:"font-urbanist font-semibold text-[24px] text-[var(--grey-800)] leading-normal",children:f.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}),A?.hijriDate&&(0,t.jsx)("p",{className:"font-urbanist font-semibold text-[20px] text-[var(--brand)] leading-normal",children:A.hijriDate}),!A&&!s&&(0,t.jsx)("p",{className:"font-urbanist font-semibold text-[16px] text-[var(--neutral-500)] leading-normal",children:"No data for this date"})]}),(0,t.jsx)("button",{onClick:()=>{let e=new Date(f);e.setDate(f.getDate()+1),M(e),(e.getMonth()!==h||e.getFullYear()!==b)&&(m(e.getMonth()),p(e.getFullYear()))},className:"border border-[var(--brand-50)] rounded-[8px] p-1.5 flex items-center justify-center hover:bg-white/50 transition-colors cursor-pointer",children:(0,t.jsx)(D,{})})]}),(0,t.jsx)("div",{className:"flex gap-[30px] items-stretch w-full",children:s?Array.from({length:6}).map((e,r)=>(0,t.jsxs)("div",{className:"flex flex-1 flex-col items-center justify-center gap-4 p-6 rounded-[12px] bg-white border border-[var(--border-01)] h-[180px]",children:[(0,t.jsx)(g,{className:"h-6 w-24"})," ",(0,t.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,t.jsx)(g,{className:"h-8 w-20"})," ",(0,t.jsx)(g,{className:"h-5 w-8"}),"  "]}),(0,t.jsx)(g,{className:"h-4 w-32 mt-2"})," "]},r)):j.map(e=>{let r=P===e,a=A?.prayers?.[e],n="sunrise"===e,s=$(a?.jamah||a?.athan),l=$(a?.athan);return(0,t.jsxs)("div",{className:`
                                        flex flex-1 flex-col items-center justify-center gap-2
                                        p-6 rounded-[12px] transition-all duration-200
                                        ${r?"bg-[var(--brand)] text-white":"bg-[var(--brand-05)]"}
                                    `,children:[(0,t.jsx)("p",{className:`font-urbanist font-medium text-[22px] uppercase tracking-[-0.14px] leading-normal ${r?"text-white":"text-[var(--brand)]"}`,children:y[e]}),(0,t.jsxs)("div",{className:"flex items-baseline gap-1.5 justify-center",children:[(0,t.jsx)("p",{className:`font-inter font-bold text-[26px] leading-normal ${r?"text-white":"text-[var(--grey-800)]"}`,children:s?s.time:"—"}),s&&(0,t.jsx)("p",{className:`font-inter font-bold text-[18px] uppercase leading-normal ${r?"text-white":"text-[#666d80]"}`,children:s.ampm})]}),!n&&(0,t.jsx)("p",{className:`font-urbanist font-medium uppercase text-center leading-none ${r?"text-white":"text-[#666d80]"}`,children:l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"text-[20px]",children:["Athan ",l.time]}),(0,t.jsx)("span",{className:"text-[12.9px] align-super",children:l.ampm})]}):(0,t.jsx)("span",{className:"text-[20px]",children:"—"})})]},e)})})]}),(0,t.jsxs)("div",{className:"border border-[var(--border-01)] rounded-[16px] overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,t.jsxs)("p",{className:"font-urbanist font-semibold text-[20px] text-[var(--grey-800)] leading-normal",children:[N[h]," ",b]}),B&&(0,t.jsx)("p",{className:"font-urbanist font-semibold text-[14px] text-[var(--brand)] leading-normal",children:B})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>{0===h?(m(11),p(e=>e-1)):m(e=>e-1)},className:"border border-[var(--brand-50)] rounded-[8px] p-1.5 flex items-center justify-center hover:bg-[var(--brand-05)] transition-colors cursor-pointer",children:(0,t.jsx)(D,{className:"rotate-180"})}),(0,t.jsx)("button",{onClick:()=>{11===h?(m(0),p(e=>e+1)):m(e=>e+1)},className:"border border-[var(--brand-50)] rounded-[8px] p-1.5 flex items-center justify-center hover:bg-[var(--brand-05)] transition-colors cursor-pointer",children:(0,t.jsx)(D,{})})]})]}),s?(0,t.jsx)("div",{className:"w-full overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse min-w-[1000px]",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-t border-[var(--border-01)]",children:[(0,t.jsx)("th",{className:"px-4 py-3 w-[210px] border-r border-[var(--border-01)] bg-[var(--table-white)]",children:(0,t.jsx)(g,{className:"h-5 w-32"})}),j.map(e=>(0,t.jsx)("th",{colSpan:"sunrise"===e?1:2,className:"px-4 py-3 border-r border-[var(--border-01)] bg-[var(--table-white)]",children:(0,t.jsx)(g,{className:"h-5 w-16 mx-auto"})},e))]})}),(0,t.jsx)("tbody",{children:Array.from({length:5}).map((e,a)=>(0,t.jsxs)("tr",{className:"border-t border-[var(--border-01)] bg-white",children:[(0,t.jsxs)("td",{className:"px-4 py-3 border-r border-[var(--border-01)]",children:[(0,t.jsx)(g,{className:"h-5 w-3/4 mb-1"}),(0,t.jsx)(g,{className:"h-3 w-1/2"})]}),j.map(e=>(0,t.jsx)(r.default.Fragment,{children:"sunrise"===e?(0,t.jsx)("td",{className:"p-4 border-r border-[var(--border-01)]",children:(0,t.jsx)(g,{className:"h-5 w-12 mx-auto"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("td",{className:"p-4 border-r border-[var(--border-01)]",children:(0,t.jsx)(g,{className:"h-5 w-12 mx-auto"})}),(0,t.jsx)("td",{className:"p-4 border-r border-[var(--border-01)]",children:(0,t.jsx)(g,{className:"h-5 w-12 mx-auto"})})]})},e))]},a))})]})}):i?(0,t.jsxs)("div",{className:"text-center py-20",children:[(0,t.jsx)("p",{className:"font-urbanist text-[var(--error)] text-[16px]",children:i}),(0,t.jsx)("button",{onClick:T,className:"mt-4 px-6 py-2.5 bg-[var(--brand)] text-white rounded-[12px] font-inter font-medium text-[16px] cursor-pointer",children:"Retry"})]}):0===e.length?(0,t.jsxs)("div",{className:"text-center py-20",children:[(0,t.jsxs)("p",{className:"font-urbanist text-[var(--neutral-500)] text-[16px]",children:["No prayer times found for ",N[h]," ",b]}),(0,t.jsx)("button",{onClick:F,className:"mt-4 px-6 py-2.5 bg-[var(--brand)] text-white rounded-[12px] font-inter font-medium text-[16px] cursor-pointer",children:"Add Prayer Times"})]}):(0,t.jsx)("div",{className:"w-full overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse min-w-[1000px]",children:[(0,t.jsxs)("thead",{children:[(0,t.jsxs)("tr",{className:"border-t border-[var(--border-01)]",children:[(0,t.jsx)("th",{rowSpan:2,className:"bg-[var(--table-white)] text-left px-4 py-3 font-urbanist font-medium text-[14px] text-[#667085] uppercase w-[210px] border-r border-[var(--border-01)] align-middle",children:"Day (Date & Hijiri)"}),j.map(e=>{let r="sunrise"===e;return(0,t.jsx)("th",{colSpan:r?1:2,className:`bg-[var(--table-white)] text-center px-4 py-3 font-urbanist font-semibold text-[14px] text-[var(--grey-800)] uppercase border-r border-[var(--border-01)] last:border-r-0 ${r?"w-[105px]":""}`,children:y[e]},e)})]}),(0,t.jsx)("tr",{className:"border-t border-[var(--border-01)]",children:j.map(e=>"sunrise"===e?(0,t.jsx)("th",{className:"bg-[var(--table-white)] border-r border-[var(--border-01)]"},e):(0,t.jsxs)(r.default.Fragment,{children:[(0,t.jsx)("th",{className:"bg-[var(--table-white)] text-center px-4 py-2 font-urbanist font-medium text-[12px] text-[#667085] uppercase border-r border-[var(--border-01)]",children:"Begins"}),(0,t.jsx)("th",{className:"bg-[var(--table-white)] text-center px-4 py-2 font-urbanist font-medium text-[12px] text-[var(--brand)] uppercase border-r border-[var(--border-01)] last:border-r-0",children:"Jama'ah"})]},e))})]}),(0,t.jsx)("tbody",{children:e.map(e=>{let a,{dayFull:n,dayNum:s,isFriday:l,monthShort:i}={dayFull:k[(a=new Date(e.date+"T00:00:00")).getDay()],dayNum:a.getDate(),isFriday:5===a.getDay(),monthShort:w[a.getMonth()]},o=e.date===C,d=new Date,c=`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}-${String(d.getDate()).padStart(2,"0")}`,x=e.date===c;return(0,t.jsxs)("tr",{className:`border-t border-[var(--border-01)] transition-colors duration-200
                                                ${o?"bg-[var(--brand-05)]":x?"bg-[var(--neutral-50)]":"bg-white hover:bg-[var(--neutral-50)]"}
                                            `,onClick:()=>{M(new Date(e.date+"T00:00:00"))},style:{cursor:"pointer"},children:[(0,t.jsxs)("td",{className:"px-4 py-3 border-r border-[var(--border-01)] w-[210px]",children:[(0,t.jsxs)("p",{className:"font-urbanist font-medium text-[14px] text-[var(--grey-800)] leading-normal",children:[i," ",s,", ",n]}),(0,t.jsx)("p",{className:"font-urbanist font-medium text-[12px] text-[#666d80] uppercase leading-normal",children:e.hijriDate||"—"})]}),j.map(a=>{let n=e.prayers[a];return"sunrise"===a?(0,t.jsx)("td",{className:"text-center px-4 py-3 font-urbanist font-medium text-[14px] text-[#666d80] border-r border-[var(--border-01)]",children:S(n?.athan)},a):l&&"zuhr"===a&&e.jumuahTimes&&e.jumuahTimes.length>0?(0,t.jsxs)(r.default.Fragment,{children:[(0,t.jsx)("td",{className:"text-center px-4 py-3 font-urbanist font-medium text-[14px] text-[#666d80] border-r border-[var(--border-01)]",children:S(n?.athan)}),(0,t.jsx)("td",{className:"px-4 py-1 border-r border-[var(--border-01)]",children:e.jumuahTimes.map((e,r)=>(0,t.jsxs)("div",{className:`flex items-center justify-between ${r>0?"border-t border-[var(--border-01)] pt-1 mt-1":""}`,children:[(0,t.jsxs)("span",{className:"font-urbanist font-medium text-[10px] text-[#666d80] uppercase",children:["Jummah ",r+1]}),(0,t.jsx)("span",{className:"font-urbanist font-medium text-[12px] text-[var(--brand)]",children:S(e.jamah)})]},r))})]},a):(0,t.jsxs)(r.default.Fragment,{children:[(0,t.jsx)("td",{className:"text-center px-4 py-3 font-urbanist font-medium text-[14px] text-[#666d80] border-r border-[var(--border-01)]",children:S(n?.athan)}),(0,t.jsx)("td",{className:"text-center px-4 py-3 font-urbanist font-medium text-[14px] text-[var(--brand)] border-r border-[var(--border-01)] last:border-r-0",children:S(n?.jamah)})]},a)})]},e.id)})})]})})]}),d&&(0,t.jsx)(v,{prayerTime:x,onClose:J,onSuccess:()=>{J(),T()}})]})}e.s(["default",()=>M],49739)},20697,e=>{e.v(e=>Promise.resolve().then(()=>e(38744)))}]);