{"version":3,"sources":["../../../../src/app/%28auth%29/login/page.tsx","../../../../src/components/ui/Input.tsx","../../../../src/components/ui/Button.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport Input from '@/components/ui/Input';\nimport Button from '@/components/ui/Button';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { ApiError } from '@/lib/api/client';\nimport type { LoginFormData, LoginFormErrors } from '@/types';\n\nexport default function LoginPage() {\n  const { login } = useAuth();\n  const [isLoading, setIsLoading] = useState(false);\n  const [formData, setFormData] = useState<LoginFormData>({\n    email: '',\n    password: '',\n  });\n  const [errors, setErrors] = useState<LoginFormErrors>({});\n\n  const validateForm = (): boolean => {\n    const newErrors: LoginFormErrors = {};\n\n    if (!formData.email.trim()) {\n      newErrors.email = 'Email is required';\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\n      newErrors.email = 'Invalid email format';\n    }\n\n    if (!formData.password) {\n      newErrors.password = 'Password is required';\n    } else if (formData.password.length < 8) {\n      newErrors.password = 'Password must be at least 8 characters';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!validateForm()) return;\n\n    setIsLoading(true);\n    setErrors({});\n\n    try {\n      await login(formData.email, formData.password);\n      // Redirect is handled by AuthContext\n    } catch (error) {\n      if (error instanceof ApiError) {\n        if (error.code === 'VALIDATION_ERROR' && error.details) {\n          // Map field-level errors from backend\n          setErrors({\n            email: error.details.email,\n            password: error.details.password,\n          });\n        } else {\n          // General errors (invalid credentials, account locked, etc.)\n          setErrors({ general: error.message });\n        }\n      } else {\n        setErrors({ general: 'An error occurred. Please try again.' });\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleInputChange = (field: keyof LoginFormData) => (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData((prev) => ({ ...prev, [field]: e.target.value }));\n    // Clear error when user starts typing\n    if (errors[field] || errors.general) {\n      setErrors((prev) => ({ ...prev, [field]: undefined, general: undefined }));\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-white flex flex-col\">\n      {/* Main Content */}\n      <main className=\"flex-1 flex items-center justify-center px-4\">\n        <div className=\"w-full max-w-[548px]\">\n          {/* Login Form Container */}\n          <div className=\"p-6\">\n            {/* Greeting */}\n            <div className=\"mb-8\">\n              <p className=\"font-urbanist text-[16px] text-[var(--brand)] mb-1\">\n                ÿßŸÑÿ≥ŸéŸëŸÑŸéÿßŸÖŸè ÿπŸéŸÑŸéŸäŸíŸÉŸèŸÖŸí\n              </p>\n              <h1 className=\"font-urbanist font-semibold text-[36px] text-[var(--grey-800)]\">\n                Welcome Back üëã\n              </h1>\n            </div>\n\n            {/* General Error */}\n            {errors.general && (\n              <div className=\"mb-5 p-4 rounded-[12px] bg-red-50 border border-red-200\">\n                <p className=\"font-urbanist text-[14px] text-[var(--error)]\">\n                  {errors.general}\n                </p>\n              </div>\n            )}\n\n            {/* Form */}\n            <form onSubmit={handleSubmit} className=\"flex flex-col gap-5\">\n              {/* Email Field */}\n              <Input\n                label=\"Email\"\n                placeholder=\"admin@masjid-app.com\"\n                type=\"email\"\n                value={formData.email}\n                onChange={handleInputChange('email')}\n                error={errors.email}\n                autoComplete=\"email\"\n              />\n\n              {/* Password Field */}\n              <Input\n                label=\"Password\"\n                placeholder=\"*********\"\n                type=\"password\"\n                value={formData.password}\n                onChange={handleInputChange('password')}\n                error={errors.password}\n                showPasswordToggle\n                autoComplete=\"current-password\"\n              />\n\n              {/* Login Button */}\n              <Button\n                type=\"submit\"\n                variant=\"primary\"\n                size=\"lg\"\n                fullWidth\n                isLoading={isLoading}\n                className=\"mt-4\"\n              >\n                Log In\n              </Button>\n\n              {/* Forgot Password Link */}\n              <button\n                type=\"button\"\n                className=\"font-urbanist font-medium text-[20px] text-[var(--grey-800)] text-center hover:underline\"\n                onClick={() => {\n                  // TODO: Implement forgot password\n                  console.log('Forgot password clicked');\n                }}\n              >\n                Forget Password?\n              </button>\n            </form>\n          </div>\n        </div>\n      </main>\n\n      {/* Footer */}\n      <footer className=\"px-[136px] py-[42px] flex justify-between items-center\">\n        <span className=\"font-dm-sans font-medium text-[12px] text-[var(--neutral-600)]\">\n          ¬© 2025 ALL RIGHTS RESERVED\n        </span>\n        <span className=\"font-dm-sans font-medium text-[12px] text-[var(--neutral-600)]\">\n          Terms Of Use. Privacy Policy\n        </span>\n      </footer>\n    </div>\n  );\n}\n","'use client';\n\nimport { InputHTMLAttributes, forwardRef, useState } from 'react';\n\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\n  label?: string;\n  error?: string;\n  icon?: React.ReactNode;\n  showPasswordToggle?: boolean;\n}\n\nconst Input = forwardRef<HTMLInputElement, InputProps>(\n  ({ label, error, icon, showPasswordToggle, type = 'text', className = '', ...props }, ref) => {\n    const [showPassword, setShowPassword] = useState(false);\n\n    const inputType = showPasswordToggle ? (showPassword ? 'text' : 'password') : type;\n\n    return (\n      <div className=\"flex flex-col gap-2 w-full\">\n        {label && (\n          <label className=\"font-urbanist text-[14px] text-[var(--grey-800)] tracking-[0.14px]\">\n            {label}\n          </label>\n        )}\n        <div className=\"relative\">\n          <input\n            ref={ref}\n            type={inputType}\n            className={`\n              w-full h-[48px] px-[21px] py-[16px] \n              border rounded-[12px] \n              font-urbanist text-[16px]\n              placeholder:text-[var(--neutral-500)]\n              text-[var(--grey-800)]\n              focus:outline-none focus:ring-2 focus:ring-[var(--brand)] focus:border-transparent\n              transition-all duration-200\n              ${error ? 'border-[var(--error)] border-2' : 'border-[var(--border-01)]'}\n              ${icon || showPasswordToggle ? 'pr-[50px]' : ''}\n              ${className}\n            `}\n            {...props}\n          />\n          {(icon || showPasswordToggle) && (\n            <div className=\"absolute right-[21px] top-1/2 -translate-y-1/2 flex items-center\">\n              {showPasswordToggle ? (\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"text-[var(--neutral-500)] hover:text-[var(--grey-800)] transition-colors\"\n                >\n                  {showPassword ? (\n                    <svg\n                      width=\"20\"\n                      height=\"20\"\n                      viewBox=\"0 0 24 24\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"2\"\n                    >\n                      <path d=\"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24\" />\n                      <line x1=\"1\" y1=\"1\" x2=\"23\" y2=\"23\" />\n                    </svg>\n                  ) : (\n                    <svg\n                      width=\"20\"\n                      height=\"20\"\n                      viewBox=\"0 0 24 24\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"2\"\n                    >\n                      <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\" />\n                      <circle cx=\"12\" cy=\"12\" r=\"3\" />\n                    </svg>\n                  )}\n                </button>\n              ) : (\n                icon\n              )}\n            </div>\n          )}\n        </div>\n        {error && <span className=\"text-[var(--error)] text-[12px] font-urbanist\">{error}</span>}\n      </div>\n    );\n  }\n);\n\nInput.displayName = 'Input';\n\nexport default Input;\n","'use client';\n\nimport { ButtonHTMLAttributes, forwardRef } from 'react';\n\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'outline' | 'ghost';\n  size?: 'sm' | 'md' | 'lg';\n  isLoading?: boolean;\n  fullWidth?: boolean;\n}\n\nconst Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  (\n    {\n      children,\n      variant = 'primary',\n      size = 'md',\n      isLoading = false,\n      fullWidth = false,\n      className = '',\n      disabled,\n      ...props\n    },\n    ref\n  ) => {\n    const baseStyles =\n      'font-urbanist font-medium rounded-[12px] transition-all duration-200 flex items-center justify-center gap-2';\n\n    const variants = {\n      primary: 'bg-[var(--brand)] text-white hover:bg-[#065d29] disabled:opacity-50',\n      secondary: 'bg-[var(--neutral-100)] text-[var(--grey-800)] hover:bg-[var(--neutral-300)]',\n      outline:\n        'border border-[var(--border-01)] bg-white text-[var(--grey-800)] hover:bg-[var(--neutral-100)]',\n      ghost: 'bg-transparent text-[var(--grey-800)] hover:bg-[var(--neutral-100)]',\n    };\n\n    const sizes = {\n      sm: 'text-[14px] px-4 py-2',\n      md: 'text-[16px] px-6 py-3',\n      lg: 'text-[20px] px-8 py-4',\n    };\n\n    return (\n      <button\n        ref={ref}\n        className={`${baseStyles} ${variants[variant]} ${sizes[size]} ${\n          fullWidth ? 'w-full' : ''\n        } ${className}`}\n        disabled={disabled || isLoading}\n        {...props}\n      >\n        {isLoading ? (\n          <svg\n            className=\"animate-spin h-5 w-5\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n          >\n            <circle\n              className=\"opacity-25\"\n              cx=\"12\"\n              cy=\"12\"\n              r=\"10\"\n              stroke=\"currentColor\"\n              strokeWidth=\"4\"\n            />\n            <path\n              className=\"opacity-75\"\n              fill=\"currentColor\"\n              d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n            />\n          </svg>\n        ) : null}\n        {children}\n      </button>\n    );\n  }\n);\n\nButton.displayName = 'Button';\n\nexport default Button;\n"],"names":[],"mappings":"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"}