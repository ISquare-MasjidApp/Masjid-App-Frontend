module.exports=[7415,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(17245);let e=["January","February","March","April","May","June","July","August","September","October","November","December"],f=["M","T","W","T","F","S","S"];function g(a,b,c){return`${a}-${String(b+1).padStart(2,"0")}-${String(c).padStart(2,"0")}`}function h(a){let[b,c,d]=a.split("-").map(Number);return{year:b,month:c-1,day:d}}function i({fromDate:a,toDate:d,onApply:i,onCancel:j}){let k,[l,m]=(0,c.useState)("from"),n=a?h(a):{year:new Date().getFullYear(),month:new Date().getMonth(),day:new Date().getDate()};d&&h(d);let[o,p]=(0,c.useState)(a||g(n.year,n.month,n.day)),[q,r]=(0,c.useState)(d||o),[s,t]=(0,c.useState)(n.year),[u,v]=(0,c.useState)(n.month),w=new Date(s,u+1,0).getDate(),x=0===(k=new Date(s,u,1).getDay())?6:k-1,y=Array.from({length:11},(a,b)=>s-5+b),z=(0,c.useCallback)(a=>{let b=g(s,u,a);"from"===l?(p(b),b>q&&r(b),m("to")):b<o?p(b):r(b)},[l,o,q,s,u]),A=[];for(let a=0;a<x;a++)A.push(null);for(let a=1;a<=w;a++)A.push(a);for(;A.length%7!=0;)A.push(null);return(0,b.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:j}),(0,b.jsxs)("div",{className:"relative bg-white rounded-[20px] w-full max-w-[430px] shadow-2xl overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-6 pt-6 pb-3",children:[(0,b.jsx)("h3",{className:"font-urbanist font-bold text-[20px] text-[var(--grey-800)]",children:"Date Range"}),(0,b.jsx)("button",{onClick:j,className:"p-1 hover:bg-[var(--neutral-100)] rounded-full transition-colors cursor-pointer",children:(0,b.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,b.jsx)("path",{d:"M15 5L5 15M5 5l10 10",stroke:"var(--grey-800)",strokeWidth:"2",strokeLinecap:"round"})})})]}),(0,b.jsxs)("div",{className:"px-6 pb-6",children:[(0,b.jsxs)("div",{className:"flex bg-[var(--brand-05)] rounded-full p-0.5 mb-5",children:[(0,b.jsx)("button",{onClick:()=>m("from"),className:`flex-1 py-2 rounded-full font-urbanist font-semibold text-[14px] transition-all cursor-pointer
                                ${"from"===l?"bg-[var(--brand)] text-white shadow-sm":"text-[var(--grey-800)]"}`,children:"From"}),(0,b.jsx)("button",{onClick:()=>m("to"),className:`flex-1 py-2 rounded-full font-urbanist font-semibold text-[14px] transition-all cursor-pointer
                                ${"to"===l?"bg-[var(--brand)] text-white shadow-sm":"text-[var(--grey-800)]"}`,children:"To"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("select",{value:s,onChange:a=>t(Number(a.target.value)),className:"font-urbanist font-medium text-[14px] text-[var(--grey-800)] bg-transparent border-none outline-none cursor-pointer appearance-auto",children:y.map(a=>(0,b.jsx)("option",{value:a,children:a},a))}),(0,b.jsx)("select",{value:u,onChange:a=>v(Number(a.target.value)),className:"font-urbanist font-medium text-[14px] text-[var(--grey-800)] bg-transparent border-none outline-none cursor-pointer appearance-auto",children:e.map((a,c)=>(0,b.jsx)("option",{value:c,children:a},a))})]}),(0,b.jsx)("div",{className:"grid grid-cols-7 mb-2",children:f.map((a,c)=>(0,b.jsx)("div",{className:"text-center font-urbanist font-medium text-[13px] text-[var(--neutral-500)] py-1",children:a},c))}),(0,b.jsx)("div",{className:"grid grid-cols-7",children:A.map((a,c)=>{if(null===a)return(0,b.jsx)("div",{},c);let d=g(s,u,a),e=d===o,f=d===q,h=o&&q&&d>o&&d<q;return(0,b.jsx)("div",{className:`relative flex items-center justify-center h-[42px]
                                        ${h?"bg-[var(--brand-05)]":""}
                                        ${e&&o!==q?"rounded-l-full bg-[var(--brand-05)]":""}
                                        ${f&&o!==q?"rounded-r-full bg-[var(--brand-05)]":""}
                                    `,children:(0,b.jsx)("button",{onClick:()=>z(a),className:`w-[36px] h-[36px] rounded-full flex items-center justify-center
                                            font-urbanist font-medium text-[14px] transition-all cursor-pointer
                                            ${e||f?"bg-[var(--brand)] text-white":h?"text-[var(--brand)] hover:bg-[var(--brand-10)]":"text-[var(--grey-800)] hover:bg-[var(--neutral-100)]"}`,children:a})},c)})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 px-6 py-4 border-t border-[var(--border-01)]",children:[(0,b.jsx)("button",{onClick:j,className:"flex-1 py-3 border border-[var(--border-01)] text-[var(--grey-800)] rounded-full font-urbanist font-semibold text-[14px] hover:bg-[var(--neutral-100)] transition-colors cursor-pointer",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>i(o,q),className:"flex-1 py-3 bg-[var(--brand)] text-white rounded-full font-urbanist font-semibold text-[14px] hover:opacity-90 transition-opacity cursor-pointer",children:"Apply"})]})]})]})}Array.from({length:12},(a,b)=>(0===b?12:b).toString().padStart(2,"0")).sort((a,b)=>parseInt(a)-parseInt(b));let j=["01","02","03","04","05","06","07","08","09","10","11","12"],k=Array.from({length:60},(a,b)=>b.toString().padStart(2,"0")),l=["AM","PM"];function m({value:a,onChange:d,placeholder:e="--:--",disabled:f,className:g=""}){let[h,i]=(0,c.useState)(!1),m=(0,c.useRef)(null),{h:n,m:o,p}=(a=>{if(!a)return{h:"12",m:"00",p:"AM"};let[b,c]=a.split(":"),d=parseInt(b,10),e=d>=12?"PM":"AM";return d>12&&(d-=12),0===d&&(d=12),{h:d.toString().padStart(2,"0"),m:c,p:e}})(a),q=a?`${n}:${o} ${p}`:"";(0,c.useEffect)(()=>{let a=a=>{m.current&&!m.current.contains(a.target)&&i(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);let r=(a,b)=>{let c=n,e=o,f=p;"h"===a&&(c=b),"m"===a&&(e=b),"p"===a&&(f=b);let g=parseInt(c,10);"PM"===f&&g<12&&(g+=12),"PM"===f&&12===g&&(g=12),"AM"===f&&12===g&&(g=0),d(`${g.toString().padStart(2,"0")}:${e}`)};return(0,b.jsxs)("div",{className:`relative w-full ${g}`,ref:m,children:[(0,b.jsxs)("button",{type:"button",onClick:()=>!f&&i(!h),disabled:f,className:`w-full flex items-center justify-between px-3 py-2.5 border rounded-[10px] font-urbanist text-[14px] transition-colors bg-white
                    ${f?"bg-[var(--neutral-100)] text-[var(--neutral-300)] cursor-not-allowed border-[var(--border-01)]":"text-[var(--grey-800)] hover:border-[var(--brand)] cursor-pointer"}
                    ${h?"border-[var(--brand)] ring-1 ring-[var(--brand)]":"border-[var(--border-01)]"}
                `,children:[(0,b.jsx)("span",{children:q||e}),(0,b.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"text-[var(--neutral-500)]",children:[(0,b.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,b.jsx)("path",{d:"M12 7v5l3 3"})]})]}),h&&(0,b.jsx)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-[var(--border-01)] rounded-[16px] shadow-xl z-50 flex overflow-hidden w-full min-w-[240px] h-[220px]",children:(0,b.jsxs)("div",{className:"flex w-full h-full",children:[(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden border-r border-[var(--border-01)]",children:[(0,b.jsx)("div",{className:"sticky top-0 bg-[var(--brand-05)] text-[var(--brand)] text-[11px] font-bold text-center py-1 uppercase tracking-wider z-10",children:"Hour"}),j.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>r("h",a),className:`w-full py-2.5 text-center font-urbanist font-medium text-[14px] hover:bg-[var(--brand-05)] transition-colors cursor-pointer block
                                        ${n===a?"bg-[var(--brand)] text-white hover:bg-[var(--brand)]":"text-[var(--grey-800)]"}
                                    `,children:a},a))]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden border-r border-[var(--border-01)]",children:[(0,b.jsx)("div",{className:"sticky top-0 bg-[var(--brand-05)] text-[var(--brand)] text-[11px] font-bold text-center py-1 uppercase tracking-wider z-10",children:"Min"}),k.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>r("m",a),className:`w-full py-2.5 text-center font-urbanist font-medium text-[14px] hover:bg-[var(--brand-05)] transition-colors cursor-pointer block
                                        ${o===a?"bg-[var(--brand)] text-white hover:bg-[var(--brand)]":"text-[var(--grey-800)]"}
                                    `,children:a},a))]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden",children:[(0,b.jsx)("div",{className:"sticky top-0 bg-[var(--brand-05)] text-[var(--brand)] text-[11px] font-bold text-center py-1 uppercase tracking-wider z-10",children:"Period"}),l.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>r("p",a),className:`w-full py-2.5 text-center font-urbanist font-medium text-[14px] hover:bg-[var(--brand-05)] transition-colors cursor-pointer block
                                        ${p===a?"bg-[var(--brand)] text-white hover:bg-[var(--brand)]":"text-[var(--grey-800)]"}
                                    `,children:a},a))]})]})})]})}let n={fajr:{athan:"",jamah:""},sunrise:{athan:""},zuhr:{athan:"",jamah:""},asr:{athan:"",jamah:""},maghrib:{athan:"",jamah:""},isha:{athan:"",jamah:""}},o={begins:"",jamah:""},p=[{key:"fajr",label:"FAJR",hasJamah:!0},{key:"sunrise",label:"SUNRISE",hasJamah:!1},{key:"zuhr",label:"ZUHR",hasJamah:!0},{key:"asr",label:"ASR",hasJamah:!0},{key:"maghrib",label:"MAGHRIB",hasJamah:!0},{key:"isha",label:"ISHA",hasJamah:!0}],q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function r(a){if(!a)return"";let[b,c,d]=a.split("-").map(Number);return`${d} ${q[c-1]} ${b}`}function s({prayerTime:e,onClose:f,onSuccess:g}){let[h,j]=(0,c.useState)("daily"),[k,l]=(0,c.useState)(e?.date||""),[q,s]=(0,c.useState)(e?.date||""),[t,u]=(0,c.useState)(e?.prayers||{...n}),[v,w]=(0,c.useState)(e?.jumuahTimes||[{...o}]),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(!1),F=null!==e,[G,H]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let a=a=>{"Escape"===a.key&&f()};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[f]);let I=(a,b,c)=>{u(d=>({...d,[a]:{...d[a],[b]:c}}))},J=(a,b,c)=>{w(d=>{let e=[...d];return e[a]={...e[a],[b]:c},e})},K=async(b,c)=>{l(b),s(c),C(!1),E(!0),A(null);try{let{getPrayerTimes:d}=await a.A(94848),e=await d({startDate:b,endDate:c,size:1,page:0});if(e.content&&e.content.length>0){let a=e.content[0];u(a.prayers),w(a.jumuahTimes||[{...o}]),H(!0)}else u({...n}),w([{...o}]),H(!1)}catch(a){console.error("Failed to check existing data",a),H(!1)}finally{E(!1)}},L=async()=>{if(!k)return void A("Please select a date range");y(!0),A(null);try{let a=v.filter(a=>a.jamah||a.begins),b=function(a,b){let c=[],d=new Date(a+"T00:00:00"),e=new Date(b+"T00:00:00"),f=new Date(d);for(;f<=e;){let a=f.getFullYear(),b=String(f.getMonth()+1).padStart(2,"0"),d=String(f.getDate()).padStart(2,"0");c.push(`${a}-${b}-${d}`),f.setDate(f.getDate()+1)}return c}(k,q);await (0,d.bulkCreatePrayerTimes)({prayerTimes:b.map(b=>({date:b,hijriDate:(a=>{try{let b=new Date(a),c=new Intl.DateTimeFormat("en-u-ca-islamic-umalqura",{day:"numeric",month:"long",year:"numeric"}).formatToParts(b),d=c.find(a=>"day"===a.type)?.value,e=c.find(a=>"month"===a.type)?.value,f=c.find(a=>"year"===a.type)?.value;return`${d} ${e} ${f}`}catch(a){return""}})(b),prayers:t,jumuahTimes:a.length>0?a:void 0}))}),g()}catch(a){A(a instanceof Error?a.message:"Failed to save prayer time")}finally{y(!1)}},M=k?k===q?r(k):`${r(k)} - ${r(q)}`:"Select date range";return(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:f}),(0,b.jsxs)("div",{className:"relative bg-white rounded-[24px] w-full max-w-[1020px] max-h-[90vh] overflow-y-auto shadow-2xl border border-[var(--border-01)]",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-8 pt-7 pb-4",children:[(0,b.jsx)("h2",{className:"font-urbanist font-bold text-[22px] text-[var(--grey-800)]",children:F||G?"Update Prayer Time":"Add Prayer Time"}),(0,b.jsx)("button",{onClick:f,className:"w-[36px] h-[36px] flex items-center justify-center border border-[var(--border-01)] rounded-[8px] hover:bg-[var(--neutral-100)] transition-colors cursor-pointer",children:(0,b.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,b.jsx)("path",{d:"M12 4L4 12M4 4l8 8",stroke:"var(--grey-800)",strokeWidth:"1.5",strokeLinecap:"round"})})})]}),(0,b.jsxs)("div",{className:"px-8 pb-2",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block font-urbanist font-medium text-[14px] text-[var(--grey-800)] mb-2",children:"Date Range"}),(0,b.jsxs)("button",{onClick:()=>!F&&C(!0),className:`flex items-center justify-between w-full max-w-[580px] px-5 py-3 border border-[var(--border-01)] rounded-full
                                font-urbanist text-[15px] text-[var(--grey-800)] transition-colors
                                ${F?"bg-[var(--neutral-100)] cursor-default":"bg-white hover:border-[var(--brand)] cursor-pointer"}`,children:[(0,b.jsx)("span",{children:M}),(0,b.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:"shrink-0 ml-2",children:[(0,b.jsx)("rect",{x:"2",y:"3",width:"16",height:"14",rx:"2",stroke:"var(--neutral-500)",strokeWidth:"1.3"}),(0,b.jsx)("path",{d:"M2 7.5h16",stroke:"var(--neutral-500)",strokeWidth:"1.3"}),(0,b.jsx)("path",{d:"M6 1.5v3M14 1.5v3",stroke:"var(--neutral-500)",strokeWidth:"1.3",strokeLinecap:"round"})]})]})]}),(0,b.jsxs)("div",{className:"bg-[var(--brand-05)] rounded-t-[8px] flex mb-0",children:[(0,b.jsxs)("button",{onClick:()=>j("daily"),className:`flex-1 py-3.5 font-urbanist font-semibold text-[15px] text-center transition-colors relative cursor-pointer
                                ${"daily"===h?"text-[var(--brand)]":"text-[var(--neutral-500)] hover:text-[var(--grey-800)]"}`,children:["Daily Prayer","daily"===h&&(0,b.jsx)("span",{className:"absolute bottom-0 left-0 right-0 h-[3px] bg-[var(--brand)]"})]}),(0,b.jsxs)("button",{onClick:()=>j("jumuah"),className:`flex-1 py-3.5 font-urbanist font-semibold text-[15px] text-center transition-colors relative cursor-pointer
                                ${"jumuah"===h?"text-[var(--brand)]":"text-[var(--neutral-500)] hover:text-[var(--grey-800)]"}`,children:["Jumuah","jumuah"===h&&(0,b.jsx)("span",{className:"absolute bottom-0 left-0 right-0 h-[3px] bg-[var(--brand)]"})]})]}),(0,b.jsx)("div",{className:"h-[1px] bg-[var(--brand)] mb-6"}),"daily"===h&&(0,b.jsx)("div",{className:"grid grid-cols-6 gap-5 mb-4",children:p.map(({key:a,label:c,hasJamah:d})=>(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("p",{className:"font-urbanist font-bold text-[15px] text-[var(--grey-800)] uppercase mb-3",children:c}),(0,b.jsx)("label",{className:"font-urbanist font-medium text-[13px] text-[var(--brand)] mb-1.5",children:"Begins"}),(0,b.jsx)(m,{value:t[a]?.athan||"",onChange:b=>I(a,"athan",b),placeholder:"00:00"}),(0,b.jsx)("label",{className:"font-urbanist font-medium text-[13px] text-[var(--brand)] mt-4 mb-1.5",children:"Jama'h"}),d?(0,b.jsx)(m,{value:t[a]?.jamah||"",onChange:b=>I(a,"jamah",b),placeholder:"00:00"}):(0,b.jsx)(m,{disabled:!0,onChange:()=>{},placeholder:"—"})]},a))}),"jumuah"===h&&(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-8",children:[(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("div",{className:"flex items-center gap-2 mb-3",children:(0,b.jsx)("p",{className:"font-urbanist font-bold text-[15px] text-[var(--grey-800)] uppercase",children:v.length>1?"JUMU'AH 1":"JUMUAH"})}),(0,b.jsx)("label",{className:"font-urbanist font-medium text-[13px] text-[var(--brand)] mb-1.5",children:"Begins"}),(0,b.jsx)("div",{className:"w-[150px]",children:(0,b.jsx)(m,{value:v[0]?.begins||"",onChange:a=>J(0,"begins",a),placeholder:"00:00"})}),(0,b.jsx)("label",{className:"font-urbanist font-medium text-[13px] text-[var(--brand)] mt-4 mb-1.5",children:"Jama'h"}),(0,b.jsx)("div",{className:"w-[150px]",children:(0,b.jsx)(m,{value:v[0]?.jamah||"",onChange:a=>J(0,"jamah",a),placeholder:"00:00"})})]}),v.length<2?(0,b.jsxs)("button",{onClick:()=>{v.length<2&&w(a=>[...a,{...o}])},className:"flex flex-col items-center justify-center gap-2 w-[160px] h-[160px] mt-5 border-2 border-dashed border-[var(--brand)] rounded-[12px] text-[var(--brand)] hover:bg-[var(--brand-05)] transition-colors cursor-pointer",children:[(0,b.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,b.jsx)("path",{d:"M12 5v14M5 12h14",stroke:"var(--brand)",strokeWidth:"2",strokeLinecap:"round"})}),(0,b.jsxs)("span",{className:"font-urbanist font-medium text-[14px]",children:["2",(0,b.jsx)("sup",{children:"nd"})," Jumuah"]})]}):(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)("p",{className:"font-urbanist font-bold text-[15px] text-[var(--grey-800)] uppercase",children:"JUMU'AH 2"}),(0,b.jsx)("button",{onClick:()=>{v.length>1&&w(a=>[a[0]])},className:"p-1 hover:bg-red-50 rounded-[6px] transition-colors cursor-pointer",title:"Remove 2nd Jumuah",children:(0,b.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 20 20",fill:"none",children:(0,b.jsx)("path",{d:"M3 5h14M6 5V3.5A1.5 1.5 0 0 1 7.5 2h5A1.5 1.5 0 0 1 14 3.5V5m2 0v11.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 4 16.5V5h12Z",stroke:"#EF4444",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),(0,b.jsx)("label",{className:"font-urbanist font-medium text-[13px] text-[var(--brand)] mb-1.5",children:"Begins"}),(0,b.jsx)("div",{className:"w-[150px]",children:(0,b.jsx)(m,{value:v[1]?.begins||"",onChange:a=>J(1,"begins",a),placeholder:"00:00"})}),(0,b.jsx)("label",{className:"font-urbanist font-medium text-[13px] text-[var(--brand)] mt-4 mb-1.5",children:"Jama'h"}),(0,b.jsx)("div",{className:"w-[150px]",children:(0,b.jsx)(m,{value:v[1]?.jamah||"",onChange:a=>J(1,"jamah",a),placeholder:"00:00"})})]})]})}),z&&(0,b.jsx)("p",{className:"mt-2 font-urbanist text-[13px] text-[var(--error)]",children:z}),(0,b.jsx)("p",{className:"mt-4 mb-2 font-urbanist text-[12px] italic text-[var(--neutral-500)]",children:"*Whatever the changes saved, it'll automatically reflect in the Mobile App.*"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-end gap-3 px-8 py-5",children:[(0,b.jsx)("button",{onClick:f,disabled:x,className:"px-8 py-2.5 border border-[var(--border-01)] text-[var(--grey-800)] rounded-[8px] font-urbanist font-semibold text-[14px] hover:bg-[var(--neutral-100)] transition-colors disabled:opacity-50 cursor-pointer",children:"Cancel"}),(0,b.jsx)("button",{onClick:L,disabled:x,className:"px-8 py-2.5 bg-[var(--brand)] text-white rounded-[8px] font-urbanist font-semibold text-[14px] hover:opacity-90 transition-opacity disabled:opacity-50 cursor-pointer",children:x?"Saving...":"Save"})]})]}),B&&(0,b.jsx)(i,{fromDate:k,toDate:q,onApply:K,onCancel:()=>C(!1)})]})}function t({className:a="",...c}){return(0,b.jsx)("div",{className:`animate-pulse bg-[var(--neutral-100)] rounded-[8px] ${a}`,...c})}let u=["fajr","sunrise","zuhr","asr","maghrib","isha"],v={fajr:"Fajr",sunrise:"Sunrise",zuhr:"Zuhr",asr:"Asr",maghrib:"Maghrib",isha:"Isha"},w=["January","February","March","April","May","June","July","August","September","October","November","December"],x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],y=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function z(a){if(!a)return"—";let[b,c]=a.split(":"),d=parseInt(b,10),e=d>=12?"PM":"AM";return d>12&&(d-=12),0===d&&(d=12),`${d}:${c} ${e}`}function A(a){if(!a)return null;let[b,c]=a.split(":"),d=parseInt(b,10),e=d>=12?"PM":"AM";return d>12&&(d-=12),0===d&&(d=12),{time:`${d}:${c}`,ampm:e}}function B({className:a=""}){return(0,b.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:a,children:(0,b.jsx)("path",{d:"M9 6L15 12L9 18",stroke:"var(--brand)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function C(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(new Date().getMonth()),[p,q]=(0,c.useState)(new Date().getFullYear()),[r,C]=(0,c.useState)(new Date),D=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(r.getDate()).padStart(2,"0")}`,E=a.find(a=>a.date===D),F=(0,c.useCallback)(async()=>{g(!0),i(null);try{let a=`${p}-${String(n+1).padStart(2,"0")}-01`,b=new Date(p,n+1,0).getDate(),c=`${p}-${String(n+1).padStart(2,"0")}-${String(b).padStart(2,"0")}`,f=await (0,d.getPrayerTimes)({startDate:a,endDate:c,size:31});e(f.content)}catch(a){i(a instanceof Error?a.message:"Failed to load prayer times")}finally{g(!1)}},[n,p]);(0,c.useEffect)(()=>{F()},[F]);let G=()=>{m(null),k(!0)},H=()=>{k(!1),m(null)},I=(()=>{if(!E)return null;let a=new Date;if(r.toDateString()!==a.toDateString())return null;let b=60*a.getHours()+a.getMinutes(),c=null;for(let a of["fajr","sunrise","zuhr","asr","maghrib","isha"]){let d=E.prayers[a]?.jamah||E.prayers[a]?.athan;if(d){let[e,f]=d.split(":").map(Number);b>=60*e+f&&(c=a)}}return c})(),J=a.length>0?a[0]?.hijriDate:null,K=a.length>1?a[a.length-1]?.hijriDate:null,L=J&&K&&J!==K?`${J} - ${K}`:J||"";return(0,b.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h1",{className:"font-urbanist font-bold text-[28px] text-[#1f1f1f] leading-normal",children:"Prayer Management"}),(0,b.jsxs)("button",{onClick:G,className:"flex items-center gap-2.5 h-[44px] px-6 bg-[var(--brand)] text-white rounded-[12px] font-inter font-medium text-[16px] hover:opacity-90 transition-opacity cursor-pointer",children:[(0,b.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[(0,b.jsx)("rect",{x:"2",y:"3",width:"16",height:"14",rx:"2",stroke:"currentColor",strokeWidth:"1.5"}),(0,b.jsx)("path",{d:"M2 7.5h16",stroke:"currentColor",strokeWidth:"1.5"}),(0,b.jsx)("path",{d:"M6 1.5v3M14 1.5v3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),(0,b.jsx)("path",{d:"M10 10.5v4M8 12.5h4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),"Add/Update Prayer Time"]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-6 items-center w-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between w-full bg-[var(--brand-05)] px-4 py-1.5",children:[(0,b.jsx)("button",{onClick:()=>{let a=new Date(r);a.setDate(r.getDate()-1),C(a),(a.getMonth()!==n||a.getFullYear()!==p)&&(o(a.getMonth()),q(a.getFullYear()))},className:"border border-[var(--brand-50)] rounded-[8px] p-1.5 flex items-center justify-center hover:bg-white/50 transition-colors cursor-pointer",children:(0,b.jsx)(B,{className:"rotate-180"})}),(0,b.jsxs)("div",{className:"flex flex-col items-center gap-0.5",children:[(0,b.jsx)("p",{className:"font-urbanist font-semibold text-[24px] text-[var(--grey-800)] leading-normal",children:r.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}),E?.hijriDate&&(0,b.jsx)("p",{className:"font-urbanist font-semibold text-[20px] text-[var(--brand)] leading-normal",children:E.hijriDate}),!E&&!f&&(0,b.jsx)("p",{className:"font-urbanist font-semibold text-[16px] text-[var(--neutral-500)] leading-normal",children:"No data for this date"})]}),(0,b.jsx)("button",{onClick:()=>{let a=new Date(r);a.setDate(r.getDate()+1),C(a),(a.getMonth()!==n||a.getFullYear()!==p)&&(o(a.getMonth()),q(a.getFullYear()))},className:"border border-[var(--brand-50)] rounded-[8px] p-1.5 flex items-center justify-center hover:bg-white/50 transition-colors cursor-pointer",children:(0,b.jsx)(B,{})})]}),(0,b.jsx)("div",{className:"flex gap-[30px] items-stretch w-full",children:f?Array.from({length:6}).map((a,c)=>(0,b.jsxs)("div",{className:"flex flex-1 flex-col items-center justify-center gap-4 p-6 rounded-[12px] bg-white border border-[var(--border-01)] h-[180px]",children:[(0,b.jsx)(t,{className:"h-6 w-24"})," ",(0,b.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,b.jsx)(t,{className:"h-8 w-20"})," ",(0,b.jsx)(t,{className:"h-5 w-8"}),"  "]}),(0,b.jsx)(t,{className:"h-4 w-32 mt-2"})," "]},c)):u.map(a=>{let c=I===a,d=E?.prayers?.[a],e="sunrise"===a,f=A(d?.jamah||d?.athan),g=A(d?.athan);return(0,b.jsxs)("div",{className:`
                                        flex flex-1 flex-col items-center justify-center gap-2
                                        p-6 rounded-[12px] transition-all duration-200
                                        ${c?"bg-[var(--brand)] text-white":"bg-[var(--brand-05)]"}
                                    `,children:[(0,b.jsx)("p",{className:`font-urbanist font-medium text-[22px] uppercase tracking-[-0.14px] leading-normal ${c?"text-white":"text-[var(--brand)]"}`,children:v[a]}),(0,b.jsxs)("div",{className:"flex items-baseline gap-1.5 justify-center",children:[(0,b.jsx)("p",{className:`font-inter font-bold text-[26px] leading-normal ${c?"text-white":"text-[var(--grey-800)]"}`,children:f?f.time:"—"}),f&&(0,b.jsx)("p",{className:`font-inter font-bold text-[18px] uppercase leading-normal ${c?"text-white":"text-[#666d80]"}`,children:f.ampm})]}),!e&&(0,b.jsx)("p",{className:`font-urbanist font-medium uppercase text-center leading-none ${c?"text-white":"text-[#666d80]"}`,children:g?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("span",{className:"text-[20px]",children:["Athan ",g.time]}),(0,b.jsx)("span",{className:"text-[12.9px] align-super",children:g.ampm})]}):(0,b.jsx)("span",{className:"text-[20px]",children:"—"})})]},a)})})]}),(0,b.jsxs)("div",{className:"border border-[var(--border-01)] rounded-[16px] overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,b.jsxs)("p",{className:"font-urbanist font-semibold text-[20px] text-[var(--grey-800)] leading-normal",children:[w[n]," ",p]}),L&&(0,b.jsx)("p",{className:"font-urbanist font-semibold text-[14px] text-[var(--brand)] leading-normal",children:L})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>{0===n?(o(11),q(a=>a-1)):o(a=>a-1)},className:"border border-[var(--brand-50)] rounded-[8px] p-1.5 flex items-center justify-center hover:bg-[var(--brand-05)] transition-colors cursor-pointer",children:(0,b.jsx)(B,{className:"rotate-180"})}),(0,b.jsx)("button",{onClick:()=>{11===n?(o(0),q(a=>a+1)):o(a=>a+1)},className:"border border-[var(--brand-50)] rounded-[8px] p-1.5 flex items-center justify-center hover:bg-[var(--brand-05)] transition-colors cursor-pointer",children:(0,b.jsx)(B,{})})]})]}),f?(0,b.jsx)("div",{className:"w-full overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full border-collapse min-w-[1000px]",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-t border-[var(--border-01)]",children:[(0,b.jsx)("th",{className:"px-4 py-3 w-[210px] border-r border-[var(--border-01)] bg-[var(--table-white)]",children:(0,b.jsx)(t,{className:"h-5 w-32"})}),u.map(a=>(0,b.jsx)("th",{colSpan:"sunrise"===a?1:2,className:"px-4 py-3 border-r border-[var(--border-01)] bg-[var(--table-white)]",children:(0,b.jsx)(t,{className:"h-5 w-16 mx-auto"})},a))]})}),(0,b.jsx)("tbody",{children:Array.from({length:5}).map((a,d)=>(0,b.jsxs)("tr",{className:"border-t border-[var(--border-01)] bg-white",children:[(0,b.jsxs)("td",{className:"px-4 py-3 border-r border-[var(--border-01)]",children:[(0,b.jsx)(t,{className:"h-5 w-3/4 mb-1"}),(0,b.jsx)(t,{className:"h-3 w-1/2"})]}),u.map(a=>(0,b.jsx)(c.default.Fragment,{children:"sunrise"===a?(0,b.jsx)("td",{className:"p-4 border-r border-[var(--border-01)]",children:(0,b.jsx)(t,{className:"h-5 w-12 mx-auto"})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("td",{className:"p-4 border-r border-[var(--border-01)]",children:(0,b.jsx)(t,{className:"h-5 w-12 mx-auto"})}),(0,b.jsx)("td",{className:"p-4 border-r border-[var(--border-01)]",children:(0,b.jsx)(t,{className:"h-5 w-12 mx-auto"})})]})},a))]},d))})]})}):h?(0,b.jsxs)("div",{className:"text-center py-20",children:[(0,b.jsx)("p",{className:"font-urbanist text-[var(--error)] text-[16px]",children:h}),(0,b.jsx)("button",{onClick:F,className:"mt-4 px-6 py-2.5 bg-[var(--brand)] text-white rounded-[12px] font-inter font-medium text-[16px] cursor-pointer",children:"Retry"})]}):0===a.length?(0,b.jsxs)("div",{className:"text-center py-20",children:[(0,b.jsxs)("p",{className:"font-urbanist text-[var(--neutral-500)] text-[16px]",children:["No prayer times found for ",w[n]," ",p]}),(0,b.jsx)("button",{onClick:G,className:"mt-4 px-6 py-2.5 bg-[var(--brand)] text-white rounded-[12px] font-inter font-medium text-[16px] cursor-pointer",children:"Add Prayer Times"})]}):(0,b.jsx)("div",{className:"w-full overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full border-collapse min-w-[1000px]",children:[(0,b.jsxs)("thead",{children:[(0,b.jsxs)("tr",{className:"border-t border-[var(--border-01)]",children:[(0,b.jsx)("th",{rowSpan:2,className:"bg-[var(--table-white)] text-left px-4 py-3 font-urbanist font-medium text-[14px] text-[#667085] uppercase w-[210px] border-r border-[var(--border-01)] align-middle",children:"Day (Date & Hijiri)"}),u.map(a=>{let c="sunrise"===a;return(0,b.jsx)("th",{colSpan:c?1:2,className:`bg-[var(--table-white)] text-center px-4 py-3 font-urbanist font-semibold text-[14px] text-[var(--grey-800)] uppercase border-r border-[var(--border-01)] last:border-r-0 ${c?"w-[105px]":""}`,children:v[a]},a)})]}),(0,b.jsx)("tr",{className:"border-t border-[var(--border-01)]",children:u.map(a=>"sunrise"===a?(0,b.jsx)("th",{className:"bg-[var(--table-white)] border-r border-[var(--border-01)]"},a):(0,b.jsxs)(c.default.Fragment,{children:[(0,b.jsx)("th",{className:"bg-[var(--table-white)] text-center px-4 py-2 font-urbanist font-medium text-[12px] text-[#667085] uppercase border-r border-[var(--border-01)]",children:"Begins"}),(0,b.jsx)("th",{className:"bg-[var(--table-white)] text-center px-4 py-2 font-urbanist font-medium text-[12px] text-[var(--brand)] uppercase border-r border-[var(--border-01)] last:border-r-0",children:"Jama'ah"})]},a))})]}),(0,b.jsx)("tbody",{children:a.map(a=>{let d,{dayFull:e,dayNum:f,isFriday:g,monthShort:h}={dayFull:y[(d=new Date(a.date+"T00:00:00")).getDay()],dayNum:d.getDate(),isFriday:5===d.getDay(),monthShort:x[d.getMonth()]},i=a.date===D,j=new Date,k=`${j.getFullYear()}-${String(j.getMonth()+1).padStart(2,"0")}-${String(j.getDate()).padStart(2,"0")}`,l=a.date===k;return(0,b.jsxs)("tr",{className:`border-t border-[var(--border-01)] transition-colors duration-200
                                                ${i?"bg-[var(--brand-05)]":l?"bg-[var(--neutral-50)]":"bg-white hover:bg-[var(--neutral-50)]"}
                                            `,onClick:()=>{C(new Date(a.date+"T00:00:00"))},style:{cursor:"pointer"},children:[(0,b.jsxs)("td",{className:"px-4 py-3 border-r border-[var(--border-01)] w-[210px]",children:[(0,b.jsxs)("p",{className:"font-urbanist font-medium text-[14px] text-[var(--grey-800)] leading-normal",children:[h," ",f,", ",e]}),(0,b.jsx)("p",{className:"font-urbanist font-medium text-[12px] text-[#666d80] uppercase leading-normal",children:a.hijriDate||"—"})]}),u.map(d=>{let e=a.prayers[d];return"sunrise"===d?(0,b.jsx)("td",{className:"text-center px-4 py-3 font-urbanist font-medium text-[14px] text-[#666d80] border-r border-[var(--border-01)]",children:z(e?.athan)},d):g&&"zuhr"===d&&a.jumuahTimes&&a.jumuahTimes.length>0?(0,b.jsxs)(c.default.Fragment,{children:[(0,b.jsx)("td",{className:"text-center px-4 py-3 font-urbanist font-medium text-[14px] text-[#666d80] border-r border-[var(--border-01)]",children:z(e?.athan)}),(0,b.jsx)("td",{className:"px-4 py-1 border-r border-[var(--border-01)]",children:a.jumuahTimes.map((a,c)=>(0,b.jsxs)("div",{className:`flex items-center justify-between ${c>0?"border-t border-[var(--border-01)] pt-1 mt-1":""}`,children:[(0,b.jsxs)("span",{className:"font-urbanist font-medium text-[10px] text-[#666d80] uppercase",children:["Jummah ",c+1]}),(0,b.jsx)("span",{className:"font-urbanist font-medium text-[12px] text-[var(--brand)]",children:z(a.jamah)})]},c))})]},d):(0,b.jsxs)(c.default.Fragment,{children:[(0,b.jsx)("td",{className:"text-center px-4 py-3 font-urbanist font-medium text-[14px] text-[#666d80] border-r border-[var(--border-01)]",children:z(e?.athan)}),(0,b.jsx)("td",{className:"text-center px-4 py-3 font-urbanist font-medium text-[14px] text-[var(--brand)] border-r border-[var(--border-01)] last:border-r-0",children:z(e?.jamah)})]},d)})]},a.id)})})]})})]}),j&&(0,b.jsx)(s,{prayerTime:l,onClose:H,onSuccess:()=>{H(),F()}})]})}a.s(["default",()=>C],7415)}];

//# sourceMappingURL=src_app_%28dashboard%29_prayer-management_page_tsx_c95b24df._.js.map